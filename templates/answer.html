<!doctype html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>{{ ev.title }}</title> <!-- ここでイベント名を動的に -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="p-4">

    <h1>{{ ev.title }}</h1> <!-- イベント名を表示 -->
    {% if error %}
<div class="alert alert-danger" role="alert">
    {{ error }}
</div>
{% endif %}


    <form method="post" class="vstack gap-3 mb-4">
        <input name="name" class="form-control" placeholder="保護者名" required>
        <input name="children" class="form-control" placeholder="子どもの名前（カンマ区切り）" required>
        <input name="address" class="form-control" placeholder="例：東京都新宿区西新宿１丁目１-1" required>
        <input name="child_cnt" type="number" value="1" class="form-control" placeholder="子ども人数" required>

        <div>
            <label class="form-label">乗せられる子供の数（自分の家の子供も含める）：行き</label>
            <input name="go_capacity" type="number" class="form-control" value="0" required>
        </div>

        <div>
            <label class="form-label">乗せられる子供の数（自分の家の子供も含める）：帰り</label>
            <input name="back_capacity" type="number" class="form-control" value="0" required>
        </div>

        <button class="btn btn-primary">回答する</button>
    </form>

    <h2>回答一覧</h2>
    <table class="table">
        <thead>
            <tr>
                <th>名前</th>
                <th>子ども</th>
                <th>住所</th>
                <th>行き</th>
                <th>帰り</th>
            </tr>
        </thead>
        <tbody>
            {% for r in rsvps %}
            <tr>
                <td>{{ r.name }}</td>
                <td>{{ r.children }}</td>
                <td>{{ r.address }}</td> <!-- ここを追加 -->
                <td>{{ r.go_capacity }}</td>
                <td>{{ r.back_capacity }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="/events/{{ ev.id }}/admin" class="btn btn-secondary mt-3">管理者ページへ</a>

</body>
</html>
